<!DOCTYPE html>
<html style="height: 100%;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regiane Ramos</title>
</head>
<body style="margin: 0px; background: #e6e6e6; height: 100%; display: flex; justify-content: center; align-items: center;">
  <img style="display: block; -webkit-user-select: none; background-color: #e6e6e6;" src="https://img6.wsimg.com/serpimg/img/solutionsimg/serp_animation_loader.gif" />
  
  <script>
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  }

  function redirect() {
    var shortId = getUrlParameter('r');

    fetch('urls.json')
      .then(response => response.json())
      .then(data => {
        var matchedUrl = data.Encurtador.find(item => item.Id === shortId);

        if (matchedUrl) {
          var longUrl = matchedUrl.Url;
          var title = matchedUrl.Title;

          // Redirecionar para a URL longa e exibir o título (se disponível)
          if (longUrl) {
            window.location.href = longUrl;
          } else {
            alert("URL longa não encontrada para a URL curta.");
          }
        } else {
          alert("URL curta não encontrada.");
        }
      })
      .catch(error => console.error('Erro ao carregar URLs:', error));
  }

  window.onload = redirect;
</script>

</body>
</html>
